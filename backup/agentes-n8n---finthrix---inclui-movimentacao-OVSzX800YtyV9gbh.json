{"createdAt":"2025-09-23T19:55:51.526Z","updatedAt":"2025-09-23T20:39:37.721Z","id":"OVSzX800YtyV9gbh","name":"Agentes N8N - Finthrix - Inclui Movimentacao","active":false,"isArchived":false,"nodes":[{"parameters":{"content":"## Chama IA  para analisar os dados de entrada","height":396,"width":376,"color":5},"type":"n8n-nodes-base.stickyNote","position":[496,368],"typeVersion":1,"id":"110249ea-fcd5-42c7-8204-2aa378f6e763","name":"Sticky Note13"},{"parameters":{"content":"## Retorna Sucesso para o Agente Chamador","height":300,"width":380,"color":4},"type":"n8n-nodes-base.stickyNote","position":[1264,368],"typeVersion":1,"id":"672450a9-201d-4b04-af34-69d8e2080d19","name":"Sticky Note"},{"parameters":{"assignments":{"assignments":[{"id":"f22526d4-6e92-4e82-b95e-ac6725508c6d","name":"response","value":"Sucesso","type":"string"}]},"options":{}},"id":"245f8411-9389-4484-b839-fd193d7e5454","name":"Retorna Sucesso","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1408,464]},{"parameters":{},"id":"a46e099e-4ae9-498c-86ff-fde85326fd87","name":"Executa o Workflow","type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1,"position":[304,464]},{"parameters":{"content":"## Insere o retorno como uma Movimentação na Planilha","height":300,"width":360,"color":2},"type":"n8n-nodes-base.stickyNote","position":[880,368],"typeVersion":1,"id":"35fa9239-e0c9-49ad-9e46-eade050a7514","name":"Sticky Note14"},{"parameters":{"operation":"append","documentId":{"__rl":true,"value":"1YXnXe7fcRCwpLTly1JTLLFuRWXBBomyc4dye-RKM41U","mode":"list","cachedResultName":"Banco de Dados - FinThrix","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1YXnXe7fcRCwpLTly1JTLLFuRWXBBomyc4dye-RKM41U/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":"gid=0","mode":"list","cachedResultName":"Movimentações","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1YXnXe7fcRCwpLTly1JTLLFuRWXBBomyc4dye-RKM41U/edit#gid=0"},"columns":{"mappingMode":"defineBelow","value":{"Data":"={{ $json.message.content.data_transacao }}","Transação":"={{ $json.message.content.transacao }}","Categoria":"={{ $json.message.content.categoria }}","Entrada":"={{ $json.message.content.entrada }}","Saída":"={{ $json.message.content.saida }}","Mês":"={{ \n  [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"][\n    ($json.message.content.data_transacao.includes(\"/\") ? \n      $json.message.content.data_transacao.split(\"/\")[1] : \n      $json.message.content.data_transacao.split(\"-\")[1]\n    ) - 1\n  ] \n}}"},"matchingColumns":["Date"],"schema":[{"id":"Data","displayName":"Data","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Mês","displayName":"Mês","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Transação","displayName":"Transação","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Categoria","displayName":"Categoria","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Entrada","displayName":"Entrada","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false},{"id":"Saída","displayName":"Saída","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{"cellFormat":"USER_ENTERED"}},"id":"080d07c3-6da7-4ca5-8748-98d0994dd632","name":"Insere Movimentação","type":"n8n-nodes-base.googleSheets","typeVersion":4.5,"position":[1008,464],"credentials":{"googleSheetsOAuth2Api":{"id":"vZSfHHRYQWS29a4T","name":"Google Sheets - Taysa"}}},{"parameters":{"content":"","height":648,"width":1480},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[240,160],"id":"60a38e3e-2f24-4ad7-ab83-449be732bb64","name":"Sticky Note1"},{"parameters":{"content":"███████╗██╗███╗░░██╗████████╗██╗░░██╗██████╗░██╗██╗░░██╗  ░░░░░░  ██╗███╗░░██╗░█████╗░██╗░░░░░██╗░░░██╗██╗  ███╗░░░███╗░█████╗░██╗░░░██╗██╗███╗░░░███╗███████╗███╗░░██╗████████╗░█████╗░░█████╗░░█████╗░░█████╗░\n██╔════╝██║████╗░██║╚══██╔══╝██║░░██║██╔══██╗██║╚██╗██╔╝  ░░░░░░  ██║████╗░██║██╔══██╗██║░░░░░██║░░░██║██║  ████╗░████║██╔══██╗██║░░░██║██║████╗░████║██╔════╝████╗░██║╚══██╔══╝██╔══██╗██╔══██╗██╔══██╗██╔══██╗\n█████╗░░██║██╔██╗██║░░░██║░░░███████║██████╔╝██║░╚███╔╝░  █████╗  ██║██╔██╗██║██║░░╚═╝██║░░░░░██║░░░██║██║  ██╔████╔██║██║░░██║╚██╗░██╔╝██║██╔████╔██║█████╗░░██╔██╗██║░░░██║░░░███████║██║░░╚═╝███████║██║░░██║\n██╔══╝░░██║██║╚████║░░░██║░░░██╔══██║██╔══██╗██║░██╔██╗░  ╚════╝  ██║██║╚████║██║░░██╗██║░░░░░██║░░░██║██║  ██║╚██╔╝██║██║░░██║░╚████╔╝░██║██║╚██╔╝██║██╔══╝░░██║╚████║░░░██║░░░██╔══██║██║░░██╗██╔══██║██║░░██║\n██║░░░░░██║██║░╚███║░░░██║░░░██║░░██║██║░░██║██║██╔╝╚██╗  ░░░░░░  ██║██║░╚███║╚█████╔╝███████╗╚██████╔╝██║  ██║░╚═╝░██║╚█████╔╝░░╚██╔╝░░██║██║░╚═╝░██║███████╗██║░╚███║░░░██║░░░██║░░██║╚█████╔╝██║░░██║╚█████╔╝\n╚═╝░░░░░╚═╝╚═╝░░╚══╝░░░╚═╝░░░╚═╝░░╚═╝╚═╝░░╚═╝╚═╝╚═╝░░╚═╝  ░░░░░░  ╚═╝╚═╝░░╚══╝░╚════╝░╚══════╝░╚═════╝░╚═╝  ╚═╝░░░░░╚═╝░╚════╝░░░░╚═╝░░░╚═╝╚═╝░░░░░╚═╝╚══════╝╚═╝░░╚══╝░░░╚═╝░░░╚═╝░░╚═╝░╚════╝░╚═╝░░╚═╝░╚════╝░","height":180,"width":2140},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-80,80],"id":"b185349f-eeb6-48b9-8daf-3e781b54ee0f","name":"Sticky Note2"},{"parameters":{"modelId":{"__rl":true,"value":"gpt-4o-mini","mode":"list","cachedResultName":"GPT-4O-MINI"},"messages":{"values":[{"content":"Analise os dados e forneça os parâmetros separadamente.","role":"system"},{"content":"={{ JSON.stringify($json.query) }}"}]},"jsonOutput":true,"options":{}},"id":"288ee8b9-8e16-49d4-87ac-aef1132f3dc2","name":"🕵️‍♂️Análise os Dados 📊","type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.6,"position":[544,864]},{"parameters":{"hasOutputParser":true,"options":{"systemMessage":"Analise os dados e forneça os parâmetros separadamente."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.1,"position":[544,464],"id":"ba58a532-c540-4d4d-bef6-7c0b2dcf45f3","name":"AI Agent"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[544,624],"id":"fe60765c-2ce0-4dfb-bf2e-9efb0f0fdd58","name":"Google Gemini Chat Model","credentials":{"googlePalmApi":{"id":"v6lUW97jyBi9uG5M","name":"Google Gemini(PaLM) Api - Taysa"}}},{"parameters":{"schemaType":"manual"},"type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.3,"position":[736,640],"id":"0d541725-422f-4548-912b-baf6467cf9e5","name":"Structured Output Parser"}],"connections":{"Executa o Workflow":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"Insere Movimentação":{"main":[[{"node":"Retorna Sucesso","type":"main","index":0}]]},"Google Gemini Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"AI Agent":{"main":[[{"node":"Insere Movimentação","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"AI Agent","type":"ai_outputParser","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"05ae8737-085f-4031-a18f-55773c1dc3ce","triggerCount":0,"tags":[]}