{"createdAt":"2025-11-15T20:41:11.242Z","updatedAt":"2025-11-15T20:46:30.545Z","id":"BDDJcBnyQTW1cbMD","name":"Algumas evoluções da AI Agent","active":false,"isArchived":false,"nodes":[{"parameters":{},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.3,"position":[-16,0],"id":"6350a144-ae26-45bf-a4c0-3725a3781dcd","name":"When chat message received","webhookId":"e87675f8-eb41-42e8-a995-25c88822ff47"},{"parameters":{"promptType":"define","text":"={{ $('When chat message received').item.json.chatInput }}","needsFallback":true,"options":{"systemMessage":"You are a helpful assistant\n\nChame o agente AI Agent Tool para consultar informaçòes na wikipedia"}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[448,0],"id":"ce6207b9-1d53-4f6f-910c-d6df8e2bf005","name":"AI Agent"},{"parameters":{"rules":{"rule":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"c6271901-3b5a-4263-8fb4-bc723a4d9edd","leftValue":"={{ $json.count }}","rightValue":60,"operator":{"type":"number","operation":"lt"}}],"combinator":"or"}},{"modelIndex":2,"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"020ea6d3-ca44-4d04-a8be-cbe5ba64ee07","leftValue":"={{ $json.count }}","rightValue":60,"operator":{"type":"number","operation":"gte"}}],"combinator":"and"}}]}},"type":"@n8n/n8n-nodes-langchain.modelSelector","typeVersion":1,"position":[192,240],"id":"c786326f-123b-44c4-b93d-5686b31ceba0","name":"Model Selector"},{"parameters":{"jsCode":"// Pega a mensagem recebida do chat\nconst message = items[0].json.chatInput || \"\";\n\n// Conta a quantidade de caracteres\nconst count = message.length;\n\n// Retorna o resultado\nreturn [{ json: { message, count } }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[240,0],"id":"8f7adcb7-f340-416a-8b2f-de7fe7cbc57f","name":"Code"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[112,448],"id":"af0483fe-d1e0-4921-a52e-7720ebbea7d7","name":"OpenAI Chat Model"},{"parameters":{"model":"anthropic/claude-3.5-sonnet","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenRouter","typeVersion":1,"position":[304,448],"id":"6bebcac9-3268-468c-b765-3df0598922c3","name":"OpenRouter Chat Model"},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenRouter","typeVersion":1,"position":[528,288],"id":"2ea5a84c-4076-40ab-b3c0-6b12800181ff","name":"OpenRouter Chat Model1"},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.agentTool","typeVersion":2.2,"position":[800,256],"id":"d451e1a2-26c1-47f2-bd54-c3c2cf6e4938","name":"AI Agent Tool"},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolWikipedia","typeVersion":1,"position":[1024,432],"id":"a88d9775-450c-4575-b65b-1297431a988a","name":"Wikipedia"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4.1-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[736,432],"id":"35d9c958-97a6-4e3d-a18c-89b6151c8570","name":"OpenAI Chat Model1"},{"parameters":{"content":"### Caso aconteça erro\n","height":208,"width":224},"type":"n8n-nodes-base.stickyNote","position":[464,224],"typeVersion":1,"id":"76501026-2cb7-41bc-9ae7-e9eca4f73c90","name":"Sticky Note"}],"connections":{"Model Selector":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Code":{"main":[[{"node":"AI Agent","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Model Selector","type":"ai_languageModel","index":0}]]},"OpenRouter Chat Model":{"ai_languageModel":[[{"node":"Model Selector","type":"ai_languageModel","index":1}]]},"OpenRouter Chat Model1":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":1}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"6e153416-c135-42dc-ac31-906433bf4ec8","triggerCount":0,"tags":[]}