{"createdAt":"2025-11-17T01:25:42.306Z","updatedAt":"2025-11-17T01:30:12.205Z","id":"nkGiGdZiUx4EZErc","name":"Agente Financeiro","active":false,"isArchived":false,"nodes":[{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('Webhook EVO').item.json.body.data.key.id }}","contextWindowLength":100},"id":"a614e987-bc50-4983-80ec-8ddd98a6e920","name":"Postgres Chat Memory","type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.1,"position":[-1104,208]},{"parameters":{"assignments":{"assignments":[{"id":"6ff66583-af58-40f7-add5-5a911f8d7aa6","name":"Chat Context ","value":"=Entrada do usuÃ¡rio no chat:\n{{ $json.mensagem }}\n\nDetalhes do arquivo enviado:\n{{ $('Webhook EVO').item.json.body.data.message.documentMessage.fileName }}\n\nLegenda do envio do arquivo:\n{{ $('Webhook EVO').item.json.body.data.message.documentMessage.title }}","type":"string"},{"id":"cc079653-0a02-4504-9fe5-81b107fff043","name":"base64","value":"={{ $json.base64 }}","type":"string"}]},"options":{}},"id":"68bc0daa-f2e2-49ff-b302-a53a7fcae6df","name":"Contexto","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-1504,-304]},{"parameters":{"content":"## Insere na pasta Extrato","height":300,"width":740,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-288,-448],"typeVersion":1,"id":"7d8f2ee2-6ce4-4322-aa8d-6566cbce6faa","name":"Sticky Note4"},{"parameters":{"content":"## Insere na pasta Conta","height":280,"width":740,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-288,-768],"typeVersion":1,"id":"c1581d62-1168-47c4-832f-c6e9eb1a3be7","name":"Sticky Note5"},{"parameters":{"content":"# Chain de ClassificaÃ§Ã£o de Tipo de Documento","height":600,"width":560,"color":2},"type":"n8n-nodes-base.stickyNote","position":[-864,-768],"typeVersion":1,"id":"e3282c1c-7f9b-4259-a312-3df821e4c89f","name":"Sticky Note2"},{"parameters":{"content":"# Tratamento quando recebe arquivo","height":600,"width":420,"color":5},"type":"n8n-nodes-base.stickyNote","position":[-1312,-768],"typeVersion":1,"id":"324f252b-587b-4e01-9004-8acf287bacc8","name":"Sticky Note"},{"parameters":{"content":"","height":220,"width":1000,"color":3},"type":"n8n-nodes-base.stickyNote","position":[-1312,-144],"typeVersion":1,"id":"620f05c8-80fc-4c4b-b369-15ac068f613d","name":"Sticky Note8"},{"parameters":{"operation":"move","fileId":{"__rl":true,"value":"={{ $('Faz Upload do Arquivo Enviado para o Drive Google').item.json.id }}","mode":"id"},"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"1Mi05uIM8DpYTiqEZOriSQMY2Cn4r-PpT","mode":"list","cachedResultName":"Contas e Faturas","cachedResultUrl":"https://drive.google.com/drive/folders/1Mi05uIM8DpYTiqEZOriSQMY2Cn4r-PpT"}},"id":"cf165d1e-d7d5-41f7-b4b5-89e080bb9e26","name":"Envia para Pasta Conta","type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[-192,-688]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"4350c715-0610-4dfb-b727-1663d4866a62","leftValue":"={{ $json.telefone }}","rightValue":"551152863018@s.whatsapp.net","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[-1744,-304],"id":"a460058c-8e45-49af-bb62-9eeab8d512dc","name":"Verifica se sou Eu"},{"parameters":{"assignments":{"assignments":[{"id":"23696d7e-9eef-4ee6-8f3e-f8edb8ab8336","name":"telefone","value":"={{ $('Webhook EVO').item.json.body.data.key.remoteJid }}","type":"string"},{"id":"0ff79119-7dc9-40fa-a31a-babe42b91e41","name":"mensagem","value":"={{ $('Webhook EVO').item.json.body.data.message.conversation }}","type":"string"},{"id":"0c497e70-deb4-4278-b613-d87127bbf972","name":"base64","value":"={{ $json.base64 }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-1968,-304],"id":"0e5690b4-3f73-49de-82f4-c55e5f117cdb","name":"Seta os dados de Entrada"},{"parameters":{"httpMethod":"POST","path":"finThrix","options":{}},"id":"e1f5db45-5418-4380-8add-e716cc356be7","name":"Webhook EVO","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-2448,-304],"webhookId":"487f4c9f-b2ff-4f21-9600-5c1f463aaee4"},{"parameters":{"content":"# Entrada","height":300,"width":1160},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-2512,-384],"id":"d4f4d769-1fda-4a27-be07-b4e8a45dd7ec","name":"Sticky Note12"},{"parameters":{"content":"## Ferramentas","height":220,"width":620,"color":7},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-912,128],"id":"8c95b3c2-d11b-4933-943f-d33df723e969","name":"Sticky Note1"},{"parameters":{"content":"## LLM e MemÃ³ria","height":220,"width":380,"color":7},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-1312,128],"id":"cc123610-e7a9-42c2-a676-e8f8f36b0c8c","name":"Sticky Note3"},{"parameters":{},"id":"198c85ae-d2b1-48ac-b391-9b8ff7aad205","name":"NÃ£o fazer nada","type":"n8n-nodes-base.noOp","typeVersion":1,"position":[-1056,-320]},{"parameters":{"name":"={{ $('Busca Base64 da Evo').item.json.fileName }}","driveId":{"__rl":true,"value":"My Drive","mode":"list","cachedResultName":"My Drive","cachedResultUrl":"https://drive.google.com/drive/my-drive"},"folderId":{"__rl":true,"value":"1dD-20isU0oweTt1QnHBlfag2EyFHXt_P","mode":"list","cachedResultName":"FinThrix","cachedResultUrl":"https://drive.google.com/drive/folders/1dD-20isU0oweTt1QnHBlfag2EyFHXt_P"},"options":{}},"id":"ad1e4c8b-72b0-45c3-984a-57988a626b6d","name":"Faz Upload do Arquivo Enviado para o Drive Google","type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[-1072,-544],"onError":"continueErrorOutput"},{"parameters":{"rules":{"values":[{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"leftValue":"={{ $json.output.arquivo_enviado }}","rightValue":"conta","operator":{"type":"string","operation":"equals"},"id":"8e988440-dc02-42d0-b4ff-a1b460b2ca88"}],"combinator":"and"},"renameOutput":true,"outputKey":"Conta"},{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"05535ced-ea7d-42ac-8cb3-ef4415425a56","leftValue":"={{ $json.output.arquivo_enviado }}","rightValue":"extrato","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"renameOutput":true,"outputKey":"Extrato"}]},"options":{}},"type":"n8n-nodes-base.switch","typeVersion":3.2,"position":[-448,-544],"id":"3a6bfee9-b0d8-4c02-8fbe-816ece0bdf37","name":"Roteador"},{"parameters":{"content":"## SaÃ­da para o UsuÃ¡rio via WhatsApp","height":300,"width":420,"color":4},"type":"n8n-nodes-base.stickyNote","position":[-272,-96],"typeVersion":1,"id":"11e6bee1-9aa3-46e3-a30c-28c64f3bcd9e","name":"Sticky Note6"},{"parameters":{"content":"","height":1480,"width":3240,"color":6},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-2544,-1056],"id":"66dcdf04-d562-4865-b766-b0b179b62e79","name":"Sticky Note7"},{"parameters":{"promptType":"define","text":"=Seu papel Ã© determinar a intenÃ§Ã£o da mensagem por meio das solicitaÃ§Ãµes ou comandos na mensagem do usuÃ¡rio fornecida a vocÃª da seguinte forma:\n{{ $json['Chat Context '] }}\n\nSe o usuÃ¡rio nÃ£o especificar um comando ou solicitaÃ§Ã£o para executar alguma tarefa utilizÃ¡vel com as ferramentas disponÃ­veis, mas apenas enviar um arquivo ou documento, responda que o arquivo ou documento foi enviado com sucesso para o repositÃ³rio apropriado.\n\nSe o usuÃ¡rio nÃ£o enviar nenhum arquivo ou documento, mas especificar um comando ou solicitaÃ§Ã£o para executar uma tarefa, execute a solicitaÃ§Ã£o ou comando utilizando as ferramentas disponÃ­veis para vocÃª.\n\nPense cuidadosamente sobre quais ferramentas especÃ­ficas utilizar com base no contexto fornecido pela entrada do usuÃ¡rio.\n\nLembre-se sempre de ser polido e falar com o usuÃ¡rio assumindo o seu papel como um contador.","options":{"systemMessage":"=**OBJETIVO**\n\nÃ‰ um Ãºtil contador de IA chamado FinThrix. EstÃ¡ a falar com o utilizador chamado `{{ $('Webhook EVO').item.json.body.data.pushName }}`. Hoje Ã© {{ $now.format('dd/MM/yyyy') }}\n\nChame sempre o utilizador pelo nome (se o nome do utilizador for fornecido).\n\nA sua funÃ§Ã£o Ã© interpretar as mensagens dos utilizadores de uma integraÃ§Ã£o de chat do Telegram e executar tarefas com precisÃ£o, utilizando as ferramentas disponÃ­veis. DeterminarÃ¡ a intenÃ§Ã£o do utilizador e acionarÃ¡ as aÃ§Ãµes (tools) apropriadas, tais como: IncluirMovimentacao, IncluirConta, ResumidorFinanceiro e outras ferramentas personalizadas fornecidas.\n\nTambÃ©m pode capturar arquivos de transaÃ§Ãµes bancÃ¡rias ou documentos de contas/faturas quando o utilizador carregar qualquer fatura/conta vÃ¡lida ou documento de extrato bancÃ¡rio na interface de chat do WhatsApp.\n\n*Importante*:\nAo responder ao utilizador, mantenha uma atitude profissional e amigÃ¡vel. \nUse emojis caso achar necessÃ¡rio para deixar a conversa mais leve!\n\n---\n**PERSONALIDADE E COMPORTAMENTOS para o FinThrix**\n\n*Nome*: FinThrix\n*FunÃ§Ã£o*: Assistente Pessoal\n*Sexo: Masculino\n*TraÃ§os de personalidade*: prestÃ¡vel, profissional, envolvente, organizado, empÃ¡tico\n\nO FinThrix Ã© uma contabilista pessoal altamente eficiente e intuitiva. MantÃ©m uma postura profissional, esforÃ§ando-se sempre para atender Ã s necessidades dos seus utilizadores com um suporte rÃ¡pido, preciso e personalizado. Embora seja detalhista e metÃ³dico na sua abordagem, FinThrix acrescenta um toque caloroso e envolvente a cada interaÃ§Ã£o, fazendo com que os seus utilizadores se sintam valorizados e compreendidos.\n\nFinThrix Ã© proativo na antecipaÃ§Ã£o de necessidades, organizado na gestÃ£o de tarefas e empÃ¡tico na abordagem das preocupaÃ§Ãµes dos utilizadores. Seja para resumir registos financeiros, registar novas movimentaÃ§Ãµes e faturas ou fornecer relatÃ³rios e atualizaÃ§Ãµes financeiras, ele equilibra o profissionalismo com uma atitude amigÃ¡vel e acessÃ­vel. Os utilizadores devem sentir que nÃ£o tÃªm apenas um assistente capaz, mas um parceiro que realmente compreende os seus objetivos e necessidades.\n\n*CaracterÃ­sticas principais*:\n- Altamente organizado e focado nos detalhes\n- Estilo de comunicaÃ§Ã£o amigÃ¡vel e acessÃ­vel\n- Profissional, mas identificÃ¡vel\n- Antecipa as necessidades do utilizador e oferece suporte proativamente\n- EmpÃ¡tico e atento Ã s preocupaÃ§Ãµes ou preferÃªncias do utilizador\n\n---\n**INTEGRAÃ‡ÃƒO DE FERRAMENTAS**\nPode executar diversas aÃ§Ãµes atravÃ©s das seguintes ferramentas:\n\n - IncluirMovimentacao: captura detalhes de transaÃ§Ãµes recentes efetuadas pelo utilizador envolvendo compras, PIX, pagamentos e outras atividades financeiras e regista a informaÃ§Ã£o numa base de dados de registos de transaÃ§Ãµes do Google Sheets.\n - IncluirConta: Adiciona um novo registo de fatura ou conta Ã  base de dados de faturas/contas do Google Sheets.\n - ResumidorFinanceiro: Gera relatÃ³rios financeiros que resumem a saÃºde financeira do cliente, como atualizaÃ§Ãµes de receitas e despesas para uma data ou perÃ­odo especificado.\n\n---\n\n**CONTEÃšDO**\nEstÃ¡ integrado num fluxo de trabalho onde os utilizadores interagem via WhatsApp para automatizar diversas tarefas. Tem acesso a diversas ferramentas, tais como:\n\n- **IncluirMovimentacao**: utilize para atualizar o registo de transaÃ§Ãµes e movimentaÃ§Ãµes, seja de dinheiro, PIX ou cartÃ£o de crÃ©dito de uma base de dados do Google Sheets que rastreia as atividades financeiras.\n\nO Agente de IA deve fornecer saÃ­da no seguinte formato com base na mensagem do utilizador:\n - data: data da transaÃ§Ã£o/movimentaÃ§Ã£o\n - descriÃ§Ã£o: DescriÃ§Ã£o da transaÃ§Ã£o/movimentaÃ§Ã£o ou detalhes\n - categoria: categoriza cada transaÃ§Ã£o em dois tipos: entrada ou saÃ­da\n - crÃ©dito: Valor total da receita ou do fluxo de caixa recebido\n - dÃ©bito: Valor total das Despesas efetuadas\n\n- **IncluirConta**: recupera os dados da fatura da mensagem do utilizador, como a data da fatura, o nÃºmero da fatura, o valor da fatura e as informaÃ§Ãµes de fatura que sÃ£o enviadas via PDF, e regista os dados na base de dados do Google Sheets para faturas.\n\n- **ResumidorFinanceiro**: gera um resumo das transaÃ§Ãµes para uma data especÃ­fica. O Agente de IA deve fornecer saÃ­da no seguinte formato para ser utilizado no nÃ³ de ferramenta para gerar a resposta:\n** - data: data ou perÃ­odo da transaÃ§Ã£o sempre no formato mm/yyyy**\n - categoria: a categoria utilizada para filtrar o relatÃ³rio (por exemplo, entradas no mÃªs de novembro de 2024). Importante: Caso a informaÃ§Ã£o venha apenas para fazer um resumo do mÃªs vc deve colocar a categoria como null. Caso seja solicitada, informaÃ§Ãµes de entradas ou saÃ­das, categorize.\n\n- **Processar documentos financeiros**: automatize a captura de dados e o registo de extratos bancÃ¡rios e faturas enviados pelo utilizador atravÃ©s da interface de chat.\n\n- **Outras ferramentas personalizadas**: Podem ser adicionadas novas ferramentas para lidar com tarefas adicionais.\n\nAs intenÃ§Ãµes do utilizador podem incluir o registo de uma transaÃ§Ã£o recente, o registo de uma nova fatura e a anexaÃ§Ã£o dos novos dados Ã  base de dados de faturas ou o pedido de resumos financeiros de receitas e despesas. O chat do WhatsApp Ã© a interface principal para receber estes pedidos.\n\n---\n\n**INSTRUÃ‡Ã•ES**\n1. **AnÃ¡lise de intenÃ§Ãµes**: analise as mensagens recebidas dos utilizadores do WhatsApp para compreender a sua intenÃ§Ã£o.\n2. **IntegraÃ§Ã£o de ferramentas**: Com base na intenÃ§Ã£o, escolha a ferramenta mais adequada que recebeu ou tem acesso para executar vÃ¡rias aÃ§Ãµes.\n - Se o utilizador solicitar a adiÃ§Ã£o de uma nova transaÃ§Ã£o, PIX ou atividade de despesa, acione a ferramenta IncluirMovimentacao e certifique-se de que o utilizador especificou as seguintes informaÃ§Ãµes necessÃ¡rias: Data da transaÃ§Ã£o, DescriÃ§Ã£o da transaÃ§Ã£o, Categoria da transaÃ§Ã£o (Rendimento, Despesas essenciais ou Despesas nÃ£o essenciais), Valor do crÃ©dito (se for uma transaÃ§Ã£o de rendimento), Valor do dÃ©bito (se forem compras ou transaÃ§Ãµes relacionadas com despesas)\n - Caso o utilizador solicite o registo de uma nova fatura, acione a ferramenta IncluirConta.\n - Caso o utilizador solicite o resumo das suas despesas de um mÃªs ou perÃ­odo especÃ­fico, acione a ferramenta ResumidorFinanceiro.\n\nIMPORTANTE: Quando o utilizador nÃ£o fornece informaÃ§Ã£o suficiente para executar uma determinada tarefa, oriente-o e peÃ§a-lhe que forneÃ§a mais informaÃ§Ã£o necessÃ¡ria para completar cada tarefa.\n3. **Executar aÃ§Ãµes**: execute a ferramenta selecionada com precisÃ£o e eficiÃªncia com base no pedido do utilizador.\n4. **ConfirmaÃ§Ã£o e feedback**: forneÃ§a feedback claro ao utilizador apÃ³s a conclusÃ£o de cada tarefa, confirmando as aÃ§Ãµes ou resumindo os resultados utilizando as respostas das ferramentas chamadas.\n5. **Tratamento de erros**: se o pedido do utilizador nÃ£o puder ser atendido ou a intenÃ§Ã£o nÃ£o for clara, peÃ§a esclarecimentos e oriente o utilizador para reformular o seu pedido.\n\n6. **InstruÃ§Ãµes de formataÃ§Ã£o**\n - Na sua resposta, envie sempre uma mensagem no formato suportado pelo WhatsApp.\n - As seguintes tags sÃ£o atualmente suportadas:\n*Negrito*: *negrito*\n_ItÃ¡lico_: _itÃ¡lico_\n~Tachado~: ~tachado~\n\nSublinhado nÃ£o Ã© suportado no WhatsApp.\nSpoiler nÃ£o Ã© suportado no WhatsApp.\nHTML nÃ£o Ã© suportado.\n\nExemplo combinado de formataÃ§Ã£o:\n*negrito _itÃ¡lico negrito ~itÃ¡lico negrito tachado~_ negrito*\n\nLink direto (sem texto personalizado):\nhttps://www.exemplo.com\n\nCÃ³digo em linha:\n`cÃ³digo de largura fixa`\n\nBloco de cÃ³digo:\nObservaÃ§Ãµes:\n- Qualquer cÃ³digo que vocÃª queira mostrar deve ser enviado entre trÃªs crases (\\`\\`\\`) para aparecer formatado.\n- No WhatsApp, nÃ£o Ã© possÃ­vel usar tags HTML como <b>, <i>, <s> etc.\n- Use apenas *asteriscos*, _underscores_, ~tils~ e crases \\` para formataÃ§Ãµes bÃ¡sicas.\n- Sempre substitua os caracteres especiais (<, >, &) pelas versÃµes literais se quiser mostrÃ¡-los como texto.\n\n---\n\n**REQUISITOS DE SAÃDA**\n- Executar tarefas solicitadas pelo utilizador com as ferramentas adequadas, concluindo as aÃ§Ãµes com eficiÃªncia.\n- ForneÃ§a resumos concisos ou confirmaÃ§Ãµes ao utilizador atravÃ©s do WhatsApp.\n- Se alguma tarefa nÃ£o for bem-sucedida, forneÃ§a uma mensagem de erro Ãºtil e acionÃ¡vel.\n- Garanta que o histÃ³rico de chat Ã© registado e armazenado no armazenamento de memÃ³ria disponÃ­vel que lhe Ã© fornecido\n\n---\n\n**EXEMPLOS**\n\n1. **Mensagem do utilizador**: \"carregue este documento para mim.\"\n **AÃ§Ãµes**:\n - IntenÃ§Ã£o: Carregar um documento ou um arquivo\n - Ferramenta:\n - SaÃ­da: Ã‰ enviada uma confirmaÃ§Ã£o ao utilizador de que o arquivo ou documento foi carregado para a pasta correta.\n\n2. **Mensagem do utilizador**: \"Fiz uma compra de 3 donuts que me custaram 25,00 reais esta manhÃ£. Podem registar esta transaÃ§Ã£o para mim?.\"\n **AÃ§Ãµes**:\n- Envia nesse formato: \n\n{\n\"data_transacao\": \"01/05/2024\",\n\"transacao\": \"AlmoÃ§o\",\n\"categoria\": \"saÃ­da\",\n\"entrada\": 0,\n\"saida\": 25\n}\n\n- Quando informado: gasto, perda, prejuizo ou negativos, envio de PIX, passei o cartÃ£o de crÃ©dito, paguei uma conta ou um boleto adicione como saida\n- Quando informado: ganho, lucro, recebimentos, adicione como entrada\n- IntenÃ§Ã£o: Registar nova transaÃ§Ã£o de despesa.\n - Ferramenta: IncluirMovimentacao.\n - SaÃ­da: Ã‰ enviada uma confirmaÃ§Ã£o ao utilizador de que a compra recente de donuts foi adicionada ao registo da transaÃ§Ã£o.\n\n3. **Mensagem do utilizador**: \"Adicione esta fatura ao nosso registo com os seguintes dados: a data da fatura Ã© 1 de outubro de 2024, o nÃºmero da fatura Ã© 123456, no valor de 500,00 reais e faturada Ã  Synthrop AI\"\n **AÃ§Ãµes**:\n - IntenÃ§Ã£o: Adicionar um novo registo de fatura.\n - Ferramenta: IncluirConta.\n - SaÃ­da: Ã‰ enviada uma confirmaÃ§Ã£o ao utilizador de que foi adicionada uma nova fatura.\n\n4. **Mensagem do utilizador**: \"Quanto gastei no mÃªs passado?\"\n **AÃ§Ãµes**:\n- Envia nesse formato: \n\n{\n  \"data\": \"01/2024\",\n  \"categoria\": \"saÃ­da\"\n}\n - IntenÃ§Ã£o: Resumir as Despesas.\n - Ferramenta: ResumidorFinanceiro.\n - Output: Retorna a resposta do workflow da ferramenta ResumidorFinanceiro.\nImportante: Caso a informaÃ§Ã£o venha apenas para fazer um resumo do mÃªs vc deve colocar a categoria como null.Caso seja informado se seja informaÃ§Ãµes de entradas ou saÃ­das, categorize.","returnIntermediateSteps":true}},"id":"22e033f8-acb3-47b7-841b-d80660477b73","name":"ğŸ¤– FinThrixğŸ’°ğŸ“Š","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.6,"position":[-992,-96]},{"parameters":{"promptType":"define","text":"={{ $('Seta os dados de Entrada').item.json.mensagem }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"Seu papel Ã© identificar a intenÃ§Ã£o do usuÃ¡rio com base em duas categorias:  atualizar_fatura: Se o usuÃ¡rio explicitamente indicar que deseja enviar um documento de conta ou fatura na mensagem ou interaÃ§Ã£o atual do chat, ou se o nome do arquivo do documento contiver 'conta' ou 'fatura'. atualiza_extrato_bancario: Se o usuÃ¡rio explicitamente indicar que deseja enviar um documento de extrato bancÃ¡rio na mensagem ou interaÃ§Ã£o atual do chat, ou se o nome do arquivo do documento contiver 'extrato bancario'."},{"type":"HumanMessagePromptTemplate","message":"=Identifique a intenÃ§Ã£o usando as seguintes informaÃ§Ãµes recebidas do usuÃ¡rio:\n\nMensagem do usuÃ¡rio no chat: {{ $('Seta os dados de Entrada').item.json.mensagem }}\nNome do arquivo: {{ $json.name }}\nLegenda do envio do arquivo: {{ $('Webhook EVO').item.json.body.data.message.documentMessage.title }}\n\nLembre-se que quando vier uma fatura, boleto conta, vc deve assumir que Ã© uma conta.\nE quando vier algo como extrato vc deve assumir que Ã© um extrato bancÃ¡rio"}]}},"id":"1676810d-87b8-4a82-b323-7e436c6e033f","name":"ğŸ“‘Identificador ğŸ¤‘","type":"@n8n/n8n-nodes-langchain.chainLlm","typeVersion":1.4,"position":[-784,-544]},{"parameters":{"name":"IncluirMovimentacao","description":"Chame essa tool para atualizar a planilha do google sheets com todas as entradas e saÃ­das, gastos ou ganhos, perdas ou lucros. ","workflowId":{"__rl":true,"value":"L4CoBclNyB3SP5AH","mode":"list","cachedResultName":"Agentes N8N - FinThrix - Inclui Movimentacao"},"specifyInputSchema":true,"schemaType":"manual","inputSchema":"{\n\"type\": \"object\",\n\"properties\": {\n\t\"data_transacao\": {\n\t\t\"type\": \"date\"\n    },\n   \"transacao\": {\n       \"type\": \"string\"\n    },\n   \"categoria\": {\n       \"type\": \"string\"\n    },\n    \"entrada\": {\n      \"type\": \"number\"\n    },\n    \"saida\": {\n      \"type\": \"number\"\n    }\n  }\n}"},"id":"d809b6b3-7d49-411d-90a3-2b8fb5a204bf","name":"IncluiMovimentacao","type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":1.2,"position":[-704,208]},{"parameters":{"name":"IncluirConta","description":"Chame esta ferramenta para registrar uma conta e atualizar um banco de dados do Google Sheets chamado Contas.\n\n","workflowId":{"__rl":true,"value":"zne6ueFf5xBpLh3H","mode":"list","cachedResultName":"Agentes N8N - FinThrix - Inclui Conta"},"specifyInputSchema":true,"schemaType":"manual","inputSchema":"{\n\"type\": \"object\",\n\"properties\": {\n\t\"data_fatura\": {\n\t\t\"type\": \"date\"\n    },\n    \"numero_fatura\": {\n        \"type\": \"number\"\n    },\n    \"valor_total\": {\n        \"type\": \"number\"\n    },\n    \"destinatario\": {\n        \"type\": \"string\"\n    }\n  }\n}"},"id":"aa5e237f-eb15-44bb-bf72-891322907d26","name":"IncluiConta","type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":1.2,"position":[-576,208]},{"parameters":{"content":"â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•—â€ƒâ€ƒâ–‘â–‘â–‘â–‘â–‘â–‘â€ƒâ€ƒâ–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•—â€ƒâ€ƒâ–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â€ƒâ€ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘\nâ–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â€ƒâ€ƒâ–‘â–‘â–‘â–‘â–‘â–‘â€ƒâ€ƒâ–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â€ƒâ€ƒâ–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â€ƒâ€ƒâ–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–‘â•šâ–ˆâ–ˆâ–ˆâ•”â•â–‘â€ƒâ€ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â€ƒâ€ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â€ƒâ€ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•—â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â€ƒâ€ƒâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â•šâ•â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘\nâ–ˆâ–ˆâ•”â•â•â•â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—â–‘â€ƒâ€ƒâ•šâ•â•â•â•â•â€ƒâ€ƒâ–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â€ƒâ€ƒâ–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–‘â–‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â€ƒâ€ƒâ–ˆâ–ˆâ•”â•â•â•â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘\nâ–ˆâ–ˆâ•‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â•šâ–ˆâ–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ•—â€ƒâ€ƒâ–‘â–‘â–‘â–‘â–‘â–‘â€ƒâ€ƒâ–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â€ƒâ€ƒâ–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–‘â•šâ–ˆâ–ˆâ–ˆâ•‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–‘â–‘â–‘â€ƒâ€ƒâ–ˆâ–ˆâ•‘â–‘â–‘â–‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â•šâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â•šâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–‘â–‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•\nâ•šâ•â•â–‘â–‘â–‘â–‘â–‘â•šâ•â•â•šâ•â•â–‘â–‘â•šâ•â•â•â–‘â–‘â–‘â•šâ•â•â–‘â–‘â–‘â•šâ•â•â–‘â–‘â•šâ•â•â•šâ•â•â–‘â–‘â•šâ•â•â•šâ•â•â•šâ•â•â–‘â–‘â•šâ•â•â€ƒâ€ƒâ–‘â–‘â–‘â–‘â–‘â–‘â€ƒâ€ƒâ•šâ•â•â–‘â–‘â•šâ•â•â•šâ•â•â€ƒâ€ƒâ•šâ•â•â–‘â–‘â•šâ•â•â–‘â•šâ•â•â•â•â•â•â–‘â•šâ•â•â•â•â•â•â•â•šâ•â•â–‘â–‘â•šâ•â•â•â–‘â–‘â–‘â•šâ•â•â–‘â–‘â–‘â€ƒâ€ƒâ•šâ•â•â–‘â–‘â–‘â–‘â–‘â•šâ•â•â•šâ•â•â–‘â–‘â•šâ•â•â•â•šâ•â•â–‘â–‘â•šâ•â•â•šâ•â•â–‘â–‘â•šâ•â•â•â–‘â•šâ•â•â•â•â•â–‘â•šâ•â•â•â•â•â•â•â•šâ•â•â•šâ•â•â–‘â–‘â•šâ•â•â–‘â•šâ•â•â•â•â•â–‘","width":2020},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-1936,-1008],"id":"7e188086-ad66-4c91-ba8f-aa77827beb35","name":"Sticky Note9"},{"parameters":{"name":"ResumidorFinanceiro","description":"Chame esta ferramenta para gerar um relatÃ³rio ou resumo das informaÃ§Ãµes financeiras a partir de um banco de dados do Google Sheets com registros de transaÃ§Ãµes.\n\nutilize apenas o formato mm/yyyy","workflowId":{"__rl":true,"value":"KryhuPU8sL8bzu6q","mode":"list","cachedResultName":"Agentes N8N - FinThrix - Resumidor Relatorio Financeiro"},"specifyInputSchema":true,"schemaType":"manual","inputSchema":"{\n\"type\": \"object\",\n\"properties\": {\n  \"data\": \"02/2024\",\n  \"categoria\": \"SaÃ­da\"\n}\n}"},"id":"346f3edc-c69b-4edf-838b-7a77c0bd4714","name":"ResumidorFinanceiro","type":"@n8n/n8n-nodes-langchain.toolWorkflow","typeVersion":1.2,"position":[-432,208]},{"parameters":{"resource":"messages-api","instanceName":"SynthropAI","remoteJid":"={{ $('Seta os dados de Entrada').first().json.telefone }}","messageText":"={{ $json.output }}","options_message":{"linkPreview":false}},"type":"n8n-nodes-evolution-api.evolutionApi","typeVersion":1,"position":[-112,0],"id":"cdc318de-e6e0-470d-9a74-761e244b2532","name":"Envia mensagem no WhatsApp"},{"parameters":{"resource":"messages-api","instanceName":"SynthropAI","remoteJid":"={{ $('Seta os dados de Entrada').first().json.telefone }}","messageText":"={{ $json.response }}","options_message":{}},"type":"n8n-nodes-evolution-api.evolutionApi","typeVersion":1,"position":[496,-496],"id":"c123eff1-969d-495b-8e00-7383c7ad0f4c","name":"Informa Retorno via WhatsApp","credentials":{"evolutionApi":{"id":"vvhHatUlPnjBzec6","name":"Evolution account"}}},{"parameters":{"operation":"move","fileId":{"__rl":true,"value":"={{ $('Faz Upload do Arquivo Enviado para o Drive Google').item.json.id }}","mode":"id"},"driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"1XC7oKSUmvkApTbqVcDPkZPJh9nAawKDb","mode":"list","cachedResultName":"Extratos","cachedResultUrl":"https://drive.google.com/drive/folders/1XC7oKSUmvkApTbqVcDPkZPJh9nAawKDb"}},"id":"875460df-cdaa-4d39-90fc-0f749303c7fa","name":"Envia para Pasta Extratos","type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[-192,-336]},{"parameters":{"assignments":{"assignments":[{"id":"adeaacb1-54f2-48db-b107-5bf2a55da53a","name":"response","value":"Arquivo enviado para a pasta ğŸ—‚ï¸ de Contas e Faturas no Google Drive","type":"string"}]},"options":{}},"id":"0f8b8198-43a9-458a-a6e4-cd5b2654bc2d","name":"Seta Mensagem de Retorno","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[32,-688]},{"parameters":{"assignments":{"assignments":[{"id":"29b48128-1e96-4ce3-9979-d9c1a7e442cf","name":"response","value":"Arquivo enviado para a pasta ğŸ—‚ï¸ de Extratos no Google Drive.","type":"string"}]},"options":{}},"id":"35570564-e133-42be-ab1a-e28cc6a32155","name":"Seta Mensagem de Retorno1","type":"n8n-nodes-base.set","typeVersion":3.4,"position":[64,-336]},{"parameters":{"schemaType":"manual","inputSchema":"{\n    \"type\": \"object\",\n    \"properties\": {\n        \"arquivo_enviado\": {\n            \"type\": \"string\",\n            \"enum\": [\"conta\", \"extrato\"]\n        }\n    }\n}\n"},"id":"fcfffc23-1f2d-44e9-8ac7-4a007106a8af","name":"Estrutura do Retorno","type":"@n8n/n8n-nodes-langchain.outputParserStructured","typeVersion":1.2,"position":[-608,-336]},{"parameters":{},"id":"77fbb7f4-6b3e-47f9-bacc-e68e2dca6fc8","name":"Calculadora","type":"@n8n/n8n-nodes-langchain.toolCalculator","typeVersion":1,"position":[-864,208]},{"parameters":{"method":"POST","url":"={{ $json.body.server_url }}/chat/getBase64FromMediaMessage/{{ $json.body.instance }}","sendHeaders":true,"headerParameters":{"parameters":[{"name":"apikey","value":"={{ $json.body.apikey }}"}]},"sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"message\": {\n    \"key\": {\n      \"id\": \"{{ $json.body.data.key.id }}\"\n    }\n  }\n} ","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-2208,-304],"id":"53f53a8d-de58-43b0-8552-e4c6e7ba8bcd","name":"Busca Base64 da Evo","onError":"continueRegularOutput"},{"parameters":{"operation":"toBinary","sourceProperty":"base64","binaryPropertyName":"=data","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[-1248,-544],"id":"7b0728a8-e58a-41d2-a84a-c525686bd496","name":"Convert to File","onError":"continueRegularOutput"},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[-816,-336],"id":"7a44ea27-5641-4e4a-b711-3d8fe0fe0912","name":"OpenAI Chat Model"},{"parameters":{"model":"openai/gpt-4o","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenRouter","typeVersion":1,"position":[-1248,208],"id":"7fb5be23-bc76-444a-82de-9314ba75d4f5","name":"GPT-4o"},{"parameters":{"operation":"executeQuery","query":"DELETE FROM N8N_CHAT_HISTORIES","options":{}},"type":"n8n-nodes-base.postgres","typeVersion":2.6,"position":[-1696,-640],"id":"40c4ac66-897c-4749-8ee7-5484847f164e","name":"Limpa - chat_histories","disabled":true},{"parameters":{"content":"## Limpa histÃ³ricos","height":300,"width":320,"color":7},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-1776,-736],"id":"0f453097-7012-41fc-beb3-b4404927372e","name":"Sticky Note10"}],"connections":{"Postgres Chat Memory":{"ai_memory":[[{"node":"ğŸ¤– FinThrixğŸ’°ğŸ“Š","type":"ai_memory","index":0}]]},"Contexto":{"main":[[{"node":"ğŸ¤– FinThrixğŸ’°ğŸ“Š","type":"main","index":0},{"node":"Convert to File","type":"main","index":0}]]},"Envia para Pasta Conta":{"main":[[{"node":"Seta Mensagem de Retorno","type":"main","index":0}]]},"Verifica se sou Eu":{"main":[[{"node":"Contexto","type":"main","index":0}]]},"Seta os dados de Entrada":{"main":[[{"node":"Verifica se sou Eu","type":"main","index":0}]]},"Webhook EVO":{"main":[[{"node":"Busca Base64 da Evo","type":"main","index":0}]]},"Faz Upload do Arquivo Enviado para o Drive Google":{"main":[[{"node":"ğŸ“‘Identificador ğŸ¤‘","type":"main","index":0}],[{"node":"NÃ£o fazer nada","type":"main","index":0}]]},"Roteador":{"main":[[{"node":"Envia para Pasta Conta","type":"main","index":0}],[{"node":"Envia para Pasta Extratos","type":"main","index":0}]]},"ğŸ¤– FinThrixğŸ’°ğŸ“Š":{"main":[[{"node":"Envia mensagem no WhatsApp","type":"main","index":0}]]},"ğŸ“‘Identificador ğŸ¤‘":{"main":[[{"node":"Roteador","type":"main","index":0}]]},"IncluiMovimentacao":{"ai_tool":[[{"node":"ğŸ¤– FinThrixğŸ’°ğŸ“Š","type":"ai_tool","index":0}]]},"IncluiConta":{"ai_tool":[[{"node":"ğŸ¤– FinThrixğŸ’°ğŸ“Š","type":"ai_tool","index":0}]]},"ResumidorFinanceiro":{"ai_tool":[[{"node":"ğŸ¤– FinThrixğŸ’°ğŸ“Š","type":"ai_tool","index":0}]]},"Envia para Pasta Extratos":{"main":[[{"node":"Seta Mensagem de Retorno1","type":"main","index":0}]]},"Seta Mensagem de Retorno":{"main":[[{"node":"Informa Retorno via WhatsApp","type":"main","index":0}]]},"Seta Mensagem de Retorno1":{"main":[[{"node":"Informa Retorno via WhatsApp","type":"main","index":0}]]},"Estrutura do Retorno":{"ai_outputParser":[[{"node":"ğŸ“‘Identificador ğŸ¤‘","type":"ai_outputParser","index":0}]]},"Calculadora":{"ai_tool":[[{"node":"ğŸ¤– FinThrixğŸ’°ğŸ“Š","type":"ai_tool","index":0}]]},"Busca Base64 da Evo":{"main":[[{"node":"Seta os dados de Entrada","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"Faz Upload do Arquivo Enviado para o Drive Google","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"ğŸ“‘Identificador ğŸ¤‘","type":"ai_languageModel","index":0}]]},"GPT-4o":{"ai_languageModel":[[{"node":"ğŸ¤– FinThrixğŸ’°ğŸ“Š","type":"ai_languageModel","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"b88f981c-b2ce-4291-ad4b-38b7d582a6d2","triggerCount":0,"tags":[{"createdAt":"2025-07-20T15:45:29.310Z","updatedAt":"2025-07-20T15:45:29.310Z","id":"wRUSTJ6mfrXjoMjo","name":"formacao-agentes-n8n"},{"createdAt":"2025-08-01T17:49:59.965Z","updatedAt":"2025-08-01T17:49:59.965Z","id":"uASGs3ovnkwqcA4l","name":"ai-agent"},{"createdAt":"2025-08-15T17:34:00.496Z","updatedAt":"2025-08-15T17:34:00.496Z","id":"EDmxLCNqtgvn9jdw","name":"finthrix"},{"createdAt":"2025-08-01T17:57:59.772Z","updatedAt":"2025-08-01T17:57:59.772Z","id":"DSDfqcFyPwY1Vy7F","name":"google-sheets"},{"createdAt":"2025-08-01T17:50:00.048Z","updatedAt":"2025-08-01T17:50:00.048Z","id":"95IHATghEwTIe2FR","name":"open-ai"},{"createdAt":"2025-08-15T17:34:53.452Z","updatedAt":"2025-08-15T17:34:53.452Z","id":"Y1g65Dys0Cbd8w57","name":"google-drive"},{"createdAt":"2025-08-15T17:34:53.453Z","updatedAt":"2025-08-15T17:34:53.453Z","id":"RLVt0l5zq4OU4jVp","name":"mistral-ai"},{"createdAt":"2025-08-15T17:35:24.405Z","updatedAt":"2025-08-15T17:35:24.405Z","id":"zVYDTsum20GGDoCQ","name":"evolution-api"},{"createdAt":"2025-08-15T17:35:07.463Z","updatedAt":"2025-08-15T17:35:07.463Z","id":"ETX6EOgdRzrKGJLW","name":"open-router"},{"createdAt":"2025-08-15T17:35:24.404Z","updatedAt":"2025-08-15T17:35:24.404Z","id":"K2g0lfyMpNJTPNIh","name":"postgres"}]}