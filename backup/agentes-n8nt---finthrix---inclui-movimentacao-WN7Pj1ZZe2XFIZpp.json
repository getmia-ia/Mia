{"createdAt":"2025-09-24T20:49:40.252Z","updatedAt":"2025-09-24T21:26:06.112Z","id":"WN7Pj1ZZe2XFIZpp","name":"Agentes N8NT - Finthrix - Inclui Movimentacao","active":false,"isArchived":false,"nodes":[{"parameters":{},"id":"18c6a3e8-949e-4d92-9e18-81322a77f9e4","name":"Executa o Workflow","type":"n8n-nodes-base.executeWorkflowTrigger","typeVersion":1,"position":[-64,96]},{"parameters":{"modelId":{"__rl":true,"value":"gpt-4o-mini","mode":"list","cachedResultName":"GPT-4O-MINI"},"messages":{"values":[{"content":"Analise os dados e forneça os parâmetros separadamente","role":"system"},{"content":"={{ JSON.stringify($json.query) }}"}]},"jsonOutput":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[208,96],"id":"25f5b7c4-345d-465c-b3ff-26fa3b52e918","name":"Analise os Dados","credentials":{"openAiApi":{"id":"GLHn0uXL8dRQAYuS","name":"OpenAi account"}}},{"parameters":{"content":"## Chama IA para analisar os dados de entrada","height":256,"width":336},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[160,0],"id":"6fe7011a-f21c-49f1-bbd2-d808000fdf7f","name":"Sticky Note"},{"parameters":{"content":"## Insere o retorno como uma movimentação na Planilha","height":256,"width":336,"color":3},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[528,0],"id":"b1d38138-00f6-4c3f-96ba-cd99a024c750","name":"Sticky Note1"},{"parameters":{"assignments":{"assignments":[{"id":"4a801a28-effb-4b1b-8177-2f46779d1a23","name":"response","value":"Sucesso","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[976,96],"id":"7914b9df-4dda-40dc-a824-88f753a64dd2","name":"Retorna Sucesso"},{"parameters":{"content":"## Retorna Sucesso para o Agente Chamador","height":256,"width":272,"color":4},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[896,0],"id":"40be1115-bca8-49a7-a44a-6d01dfc11185","name":"Sticky Note2"},{"parameters":{"operation":"append","documentId":{"__rl":true,"value":"1EQKgIrcSxHzIw90PmL3JBdWQHYuUM6wg2jt_yBknJRU","mode":"list","cachedResultName":"Banco de Dados - FinThrix","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1EQKgIrcSxHzIw90PmL3JBdWQHYuUM6wg2jt_yBknJRU/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":"gid=0","mode":"list","cachedResultName":"Movimentações","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1EQKgIrcSxHzIw90PmL3JBdWQHYuUM6wg2jt_yBknJRU/edit#gid=0"},"columns":{"mappingMode":"defineBelow","value":{"Data":"={{ $json.message.content.data_transacao }}","Mês":"={{    [\"Janeiro\", \"Fevereiro\", \"Março\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"][     ($json.message.content.data_transacao.includes(\"/\") ?        $json.message.content.data_transacao.split(\"/\")[1] :        $json.message.content.data_transacao.split(\"-\")[1]     ) - 1   ]  }}","Transação":"={{ $json.message.content.transacao }}","Categoria":"={{ $json.message.content.categoria }}","Entrada":"={{ $json.message.content.entrada }}","Saída":"={{ $json.message.content.saida }}"},"matchingColumns":[],"schema":[{"id":"Data","displayName":"Data","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Mês","displayName":"Mês","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Transação","displayName":"Transação","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Categoria","displayName":"Categoria","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Entrada","displayName":"Entrada","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true},{"id":"Saída","displayName":"Saída","required":false,"defaultMatch":false,"display":true,"type":"string","canBeUsedToMatch":true}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{"cellFormat":"USER_ENTERED"}},"type":"n8n-nodes-base.googleSheets","typeVersion":4.6,"position":[656,96],"id":"bd8362f3-f3bd-4242-a60d-ffed7593b49b","name":"Insere Movimentação","credentials":{"googleSheetsOAuth2Api":{"id":"mSK6en3eCTk82mBe","name":"Google Sheets - Taysa"}}}],"connections":{"Executa o Workflow":{"main":[[{"node":"Analise os Dados","type":"main","index":0}]]},"Analise os Dados":{"main":[[{"node":"Insere Movimentação","type":"main","index":0}]]},"Insere Movimentação":{"main":[[{"node":"Retorna Sucesso","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"a8184726-4aa1-4589-b0d9-ea43a5b33c8b","triggerCount":0,"tags":[]}