{"createdAt":"2025-08-22T17:03:20.009Z","updatedAt":"2025-08-23T01:28:42.167Z","id":"fstv7d5C23RuIHfC","name":"Gateway Download Video","active":true,"isArchived":false,"nodes":[{"parameters":{"path":"vid/:wid/:eid","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[0,0],"id":"e8c0037c-29b9-4ada-b0b9-cfd2763f740c","name":"Webhook","webhookId":"666ac7fd-78ac-44ae-ba3a-f516a140b896"},{"parameters":{"assignments":{"assignments":[{"id":"0d61514c-1232-435b-a323-ac7313816b58","name":"path","value":"={{ '/tmp/n8n/' + $json.params.wid + '/' + $json.params.eid + '/out.mp4' }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[208,0],"id":"9d1803f3-7174-4fb2-b162-02e873172700","name":"Edit Fields"},{"parameters":{"fileSelector":"={{ $json.path }}","options":{}},"type":"n8n-nodes-base.readWriteFile","typeVersion":1,"position":[416,0],"id":"d9fec19b-48ed-40ea-a37d-7d0f7f396e4c","name":"Read/Write Files from Disk"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"958c6419-a593-44a8-b3e7-3e91d44c1056","leftValue":"{{ $binary.data }}","rightValue":"=Is set","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[624,0],"id":"67ff5aab-8414-44ae-ab66-a6b85b9d6ac7","name":"If"},{"parameters":{"respondWith":"binary","responseDataSource":"set","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"video/mp4"},{"name":"Content-Disposition","value":"inline; filename=\"out.mp4\""}]}}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.4,"position":[832,-96],"id":"7dfb5643-e791-4cba-a457-170216a5936b","name":"Respond to Webhook"},{"parameters":{"jsCode":"{ \"error\": \"Arquivo n√£o encontrado. Tente novamente em alguns segundos.\" }"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[832,96],"id":"b7fc1001-9ca7-4838-8c49-60adc473e0e6","name":"Code"}],"connections":{"Webhook":{"main":[[{"node":"Edit Fields","type":"main","index":0}]]},"Edit Fields":{"main":[[{"node":"Read/Write Files from Disk","type":"main","index":0}]]},"Read/Write Files from Disk":{"main":[[{"node":"If","type":"main","index":0}]]},"If":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}],[{"node":"Code","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"da3f6941-17b0-4742-8233-73b1fdfa37f2","triggerCount":1,"tags":[]}